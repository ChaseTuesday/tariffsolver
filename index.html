<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TariffSolver - AI Tariff Classification</title>
</head>
<body>
    <div id="root"></div>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState } = React;

        function TariffSolver() {
          const [productDesc, setProductDesc] = useState('');
          const [loading, setLoading] = useState(false);
          const [result, setResult] = useState(null);
          const [error, setError] = useState(null);

          const classifyProduct = async () => {
            if (!productDesc.trim()) {
              setError('Please enter a product description');
              return;
            }

            setLoading(true);
            setError(null);
            setResult(null);

            try {
              const response = await fetch('https://api.anthropic.com/v1/messages', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                  model: 'claude-sonnet-4-20250514',
                  max_tokens: 1000,
                  messages: [{
                    role: 'user',
                    content: 'You are an expert in tariff classification and HS (Harmonized System) codes. Classify the following product and provide the most likely HS code.\n\nProduct Description: ' + productDesc + '\n\nRespond ONLY with a valid JSON object (no markdown, no backticks) in this exact format:\n{\n  "hs_code": "1234.56.78",\n  "description": "Brief description of what this HS code covers",\n  "confidence": "high/medium/low",\n  "reasoning": "Brief explanation of why this classification applies",\n  "chapter": "Chapter number and name",\n  "considerations": ["Key factor 1", "Key factor 2", "Key factor 3"]\n}'
                  }]
                })
              });

              const data = await response.json();
              const text = data.content[0].text;
              const cleanText = text.replace(/```json|```/g, '').trim();
              const classification = JSON.parse(cleanText);
              setResult(classification);
            } catch (err) {
              setError('Failed to classify product. Please try again.');
            } finally {
              setLoading(false);
            }
          };

          const containerStyle = { minHeight: '100vh', background: 'linear-gradient(to bottom right, #eff6ff, #ffffff, #eef2ff)', fontFamily: 'system-ui, -apple-system, sans-serif' };
          const headerStyle = { background: 'white', borderBottom: '1px solid #e5e7eb', boxShadow: '0 1px 2px rgba(0,0,0,0.05)' };
          const headerContentStyle = { maxWidth: '1280px', margin: '0 auto', padding: '16px 24px', display: 'flex', alignItems: 'center', justifyContent: 'space-between', flexWrap: 'wrap' };
          const logoStyle = { display: 'flex', alignItems: 'center', gap: '12px' };
          const logoIconStyle = { background: 'linear-gradient(to bottom right, #2563eb, #4f46e5)', padding: '8px', borderRadius: '8px', fontSize: '24px' };
          const titleStyle = { fontSize: '24px', fontWeight: 'bold', background: 'linear-gradient(to right, #2563eb, #4f46e5)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', margin: 0 };
          const subtitleStyle = { fontSize: '12px', color: '#6b7280', margin: 0 };
          const badgeStyle = { fontSize: '14px', color: '#4b5563', fontWeight: '500' };
          const mainStyle = { maxWidth: '1280px', margin: '0 auto', padding: '48px 24px' };
          const heroStyle = { textAlign: 'center', marginBottom: '48px' };
          const heroTitleStyle = { fontSize: '36px', fontWeight: 'bold', color: '#111827', marginBottom: '16px' };
          const heroTextStyle = { fontSize: '20px', color: '#4b5563', maxWidth: '672px', margin: '0 auto' };
          const featuresStyle = { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '24px', marginBottom: '48px' };
          const featureCardStyle = { background: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 1px 2px rgba(0,0,0,0.05)', border: '1px solid #f3f4f6' };
          const featureTitleStyle = { fontWeight: '600', color: '#111827', marginBottom: '8px', margin: '0 0 8px 0' };
          const featureTextStyle = { color: '#4b5563', fontSize: '14px', margin: 0 };
          const cardStyle = { background: 'white', borderRadius: '16px', boxShadow: '0 10px 15px -3px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb', padding: '32px', maxWidth: '896px', margin: '0 auto' };
          const cardHeaderStyle = { display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '24px' };
          const cardTitleStyle = { fontSize: '20px', fontWeight: '600', color: '#111827', margin: 0 };
          const formStyle = { display: 'flex', flexDirection: 'column', gap: '16px' };
          const labelStyle = { display: 'block', fontSize: '14px', fontWeight: '500', color: '#374151' };
          const textareaStyle = { width: '100%', padding: '12px 16px', border: '1px solid #d1d5db', borderRadius: '8px', resize: 'none', fontFamily: 'inherit', fontSize: '14px', boxSizing: 'border-box' };
          const hintStyle = { fontSize: '12px', color: '#6b7280', margin: 0 };
          const errorStyle = { display: 'flex', alignItems: 'center', gap: '8px', padding: '16px', background: '#fef2f2', border: '1px solid #fecaca', borderRadius: '8px', fontSize: '14px', color: '#991b1b' };
          const buttonStyle = { width: '100%', background: 'linear-gradient(to right, #2563eb, #4f46e5)', color: 'white', padding: '12px 24px', borderRadius: '8px', fontWeight: '600', border: 'none', fontSize: '16px' };
          const buttonDisabledStyle = { opacity: 0.5, cursor: 'not-allowed' };
          const resultsStyle = { marginTop: '32px', paddingTop: '24px', borderTop: '1px solid #e5e7eb' };
          const resultHeaderStyle = { display: 'flex', alignItems: 'start', justifyContent: 'space-between', marginBottom: '16px', flexWrap: 'wrap', gap: '12px' };
          const resultTitleStyle = { fontSize: '18px', fontWeight: '600', color: '#111827', margin: '0 0 4px 0' };
          const resultChapterStyle = { fontSize: '14px', color: '#6b7280', margin: 0 };
          const confidenceBaseStyle = { padding: '4px 12px', borderRadius: '9999px', fontSize: '12px', fontWeight: '500' };
          const hsCodeStyle = { background: 'linear-gradient(to right, #eff6ff, #eef2ff)', borderLeft: '4px solid #2563eb', padding: '24px', borderRadius: '8px', marginBottom: '24px' };
          const hsCodeNumberStyle = { fontSize: '36px', fontWeight: 'bold', color: '#2563eb', marginBottom: '8px' };
          const hsCodeDescStyle = { color: '#374151', margin: 0 };
          const reasoningStyle = { marginBottom: '16px' };
          const sectionTitleStyle = { fontWeight: '600', color: '#111827', marginBottom: '8px', margin: '0 0 8px 0', fontSize: '16px' };
          const reasoningTextStyle = { color: '#374151', background: '#f9fafb', padding: '16px', borderRadius: '8px', margin: 0 };
          const listStyle = { listStyle: 'none', padding: 0, margin: 0 };
          const listItemStyle = { display: 'flex', alignItems: 'start', gap: '8px', color: '#374151', marginBottom: '8px' };
          const bulletStyle = { color: '#2563eb', fontWeight: 'bold' };
          const disclaimerStyle = { background: '#fef9c3', border: '1px solid #fde047', borderRadius: '8px', padding: '16px', marginTop: '24px', fontSize: '14px', color: '#854d0e' };
          const footerStyle = { marginTop: '48px', textAlign: 'center', fontSize: '14px', color: '#6b7280' };

          const getConfidenceStyle = (confidence) => {
            const base = confidenceBaseStyle;
            if (confidence === 'high') return { ...base, background: '#dcfce7', color: '#166534' };
            if (confidence === 'medium') return { ...base, background: '#fef9c3', color: '#854d0e' };
            return { ...base, background: '#fed7aa', color: '#9a3412' };
          };

          return (
            <div style={containerStyle}>
              <header style={headerStyle}>
                <div style={headerContentStyle}>
                  <div style={logoStyle}>
                    <div style={logoIconStyle}>üåê</div>
                    <div>
                      <h1 style={titleStyle}>TariffSolver</h1>
                      <p style={subtitleStyle}>Classification at the speed of trade</p>
                    </div>
                  </div>
                  <div style={badgeStyle}>‚ö° Powered by Claude</div>
                </div>
              </header>

              <div style={mainStyle}>
                <div style={heroStyle}>
                  <h2 style={heroTitleStyle}>AI-Powered Tariff Classification</h2>
                  <p style={heroTextStyle}>
                    Get instant HS code classifications with AI precision. Save time, reduce errors, streamline customs clearance.
                  </p>
                </div>

                <div style={featuresStyle}>
                  <div style={featureCardStyle}>
                    <div style={{ background: '#dbeafe', color: '#2563eb', width: '48px', height: '48px', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '16px', fontSize: '24px' }}>‚ö°</div>
                    <h3 style={featureTitleStyle}>Instant Results</h3>
                    <p style={featureTextStyle}>Get HS codes in seconds, not hours</p>
                  </div>
                  <div style={featureCardStyle}>
                    <div style={{ background: '#dcfce7', color: '#16a34a', width: '48px', height: '48px', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '16px', fontSize: '24px' }}>üõ°Ô∏è</div>
                    <h3 style={featureTitleStyle}>AI Accuracy</h3>
                    <p style={featureTextStyle}>Expert-level classification powered by Claude</p>
                  </div>
                  <div style={featureCardStyle}>
                    <div style={{ background: '#f3e8ff', color: '#9333ea', width: '48px', height: '48px', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '16px', fontSize: '24px' }}>üìà</div>
                    <h3 style={featureTitleStyle}>Compliance Ready</h3>
                    <p style={featureTextStyle}>Detailed reasoning for audit trails</p>
                  </div>
                </div>

                <div style={cardStyle}>
                  <div style={cardHeaderStyle}>
                    <span style={{ fontSize: '24px' }}>üì¶</span>
                    <h3 style={cardTitleStyle}>Classify Your Product</h3>
                  </div>

                  <div style={formStyle}>
                    <label style={labelStyle}>Product Description</label>
                    <textarea
                      value={productDesc}
                      onChange={(e) => setProductDesc(e.target.value)}
                      placeholder="E.g., Women's cotton t-shirt with polyester print, short sleeves, crew neck..."
                      style={textareaStyle}
                      rows="4"
                      disabled={loading}
                    />
                    <p style={hintStyle}>Be as specific as possible: material, use, construction, features</p>

                    {error && (
                      <div style={errorStyle}>
                        <span>‚ö†Ô∏è</span>
                        <span>{error}</span>
                      </div>
                    )}

                    <button
                      onClick={classifyProduct}
                      disabled={loading || !productDesc.trim()}
                      style={loading || !productDesc.trim() ? { ...buttonStyle, ...buttonDisabledStyle } : buttonStyle}
                    >
                      {loading ? '‚è≥ Classifying...' : 'üîç Classify Product'}
                    </button>
                  </div>

                  {result && (
                    <div style={resultsStyle}>
                      <div style={resultHeaderStyle}>
                        <div>
                          <h4 style={resultTitleStyle}>HS Code Classification</h4>
                          <p style={resultChapterStyle}>{result.chapter}</p>
                        </div>
                        <div style={getConfidenceStyle(result.confidence)}>
                          {result.confidence.toUpperCase()} CONFIDENCE
                        </div>
                      </div>

                      <div style={hsCodeStyle}>
                        <div style={hsCodeNumberStyle}>{result.hs_code}</div>
                        <p style={hsCodeDescStyle}>{result.description}</p>
                      </di
